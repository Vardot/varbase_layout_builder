body {

  .layout-builder {
    margin: -3px;
    padding: 3px;

    .layout-builder__add-section {
      text-align: center;
      outline: 1px dashed #555555;
      padding: 1em;
      font-weight: bold;

      &:hover,
      &:active,
      &:focus {
        outline: 1px solid #000000;
      }

      .layout-builder__link--add {
        display: inline;
        color: #007bff;

        &:hover,
        &:active,
        &:focus {
          text-decoration: underline;
          color: #0056b3;
          background-color: transparent;
          background:  url(../../images/icons/787878/plus.svg) transparent center left/1em no-repeat;
          background-position: 10px center;
        }
      }
    }

    .layout-builder-block {
      margin: 0;
      padding: 0;
      background: transparent;
      background-color: transparent;
    }

    .layout-builder__link--import-from-library {
      margin: 0;
      padding-top: 0.5em;
      padding-right: 0.5em;
      padding-bottom: 0.5em;
      padding-left: 30px;
      transition: all 100ms linear;
      text-transform: uppercase;
      background-position: 10px center;
      font-size: 12px;
      color: #007bff;

      &:hover,
      &:active,
      &:focus {
        text-decoration: underline;
        color: #0056b3;
        background-color: transparent;
      }
    }

    .layout-builder__add-block {
      margin: 10px auto;
      width: 9.5rem;
      background-color: #eff6fcc9;
      border-radius: 8px;
      text-align: center;
      color: #007bff;

      .layout-builder__link--add {
        color: #007bff;
        margin-right: 15px;
        margin-left: 15px;

        &:hover,
        &:active,
        &:focus {
          background-color: transparent;
          border-radius: 8px;
          color: #0056b3;
          background: url(../../images/icons/787878/plus.svg) transparent center left/1em no-repeat;
          background-position: 10px center;
        }
      }
    }

    .layout-builder__link--add-section-to-library {
      color: #007bff;
      background: url(../../images/icons/ffffff/save.svg) transparent center left/1.3em no-repeat;

      &:hover,
      &:active,
      &:focus {
        text-decoration: underline;
        color: #0056b3;
        background-color: transparent;
      }
    }

    .layout-builder__link--add-template-to-library {
      text-transform: uppercase;
      color: #007bff;
      background: #eeeeee;
      background-color: #eeeeee;
      font-weight: bold;

      &:hover,
      &:active,
      &:focus {
        text-decoration: underline;
        color: #0056b3;
      }
    }

    .layout-builder__region {
      > {
        .layout-builder-block:hover:not(.ui-state-drop),
        .layout-builder-block:focus:not(.ui-state-drop) {
          .layout-builder__actions__block {
            z-index: 4;
          }
        }
      }

      > .layout-builder-block {
        margin: 0;
        padding: 0;
      }
    }

    .layout-builder__actions {
      .layout-builder__link--layout_builder_block_attributes {
        background: url("../../images/icons/ffffff/droplet-fill.svg") center center/12px 12px no-repeat;
      }
    }

    .layout-builder__section {
      padding: 0;
      outline: 2px dashed #555555;

      &:hover,
      &:active
      &:focus {
        outline: 2px solid #000000;

        .layout-builder__actions__section {
          z-index: 1;
        }
      }

      .contextual {
        display: none;
      }
    }

    .layout-builder__actions__section {
      top: -25px;
      left: -2px;
    }

    .layout-builder__actions__block {
      top: 0;
      left: 0;
    }
  }

  // Remove warning message location icon in layout builder.
  .layout-builder__message--overrides {
    .messages {
      background-image: none;
    }
  }

  .layout-builder__layout,
  .layout-builder-block,
  .layout-builder__add-block {
    &.is-layout-builder-highlighted {
      margin: auto;
    }
  }
}
[dir=rtl] body {
  .layout-builder {
    .layout-builder__link--add {
      padding-right: 30px;
      padding-left: 0.5em;
    }

    .layout-builder__link--import-from-library {
      padding-right: 30px;
      padding-left: 0.5em;
      background: url(../../images/icons/787878/import.svg) transparent center right/1em no-repeat;
    }

    .layout-builder__actions__section {
      left: auto;
      right: -2px;
    }
    .layout-builder__actions__block {
      left: auto;
      right: 0;
    }

    .layout-builder__link--add-section-to-library {
      background: url(../../images/icons/ffffff/save.svg) transparent center right/1.3em no-repeat;
    }

    .layout-builder__add-section {
      .layout-builder__link--add {
        &:hover,
        &:active,
        &:focus {
          background: url(../../images/icons/787878/plus.svg) transparent center right/1em no-repeat;
        }
      }
    }

    .layout-builder__add-block {
      .layout-builder__link--add {
        &:hover,
        &:active,
        &:focus {
          background: url(../../images/icons/787878/plus.svg) transparent center right/1em no-repeat;
        }
      }
    }
  }

  #drupal-off-canvas,
  #layout-builder-modal {
    .bs-group-title {
      margin-left: auto;
      margin-right: 15px;

      img,
      svg {
        margin-left: 1rem;
      }
    }

    .bs_input-circles,
    .bs_input-boxes {
      .fieldset-wrapper > div {
        flex-direction: row-reverse;
      }

      legend {
        text-align: right;
      }
    }

    // Alignment RTL.
    .field-text-alignment {
      .fieldset-wrapper > div > div {
        input {
          + label {
            .input-icon {

              &[class*="left"],
              &[class*="start"] {
                background-image: url('../../images/plugins/text-alignment/text-end.svg');
              }

              &[class*="right"],
              &[class*="end"] {
                background-image: url('../../images/plugins/text-alignment/text-start.svg');
              }

            }
          }
        }
      }
    }

    .layout-selection li a {
      padding-left: auto;
      padding-right: 25px;
      flex-direction: row-reverse;
    }

    // Breakpoints cols RTL.
    .blb_breakpoint_cols {
      .fieldset-wrapper {
        .form-type-radio {
          .option {
            direction: rtl;
          }
        }
      }
    }

  }

}

.toolbar-fixed {
  .js-messages__wrapper {
    top: 0 !important;
  }
}

.toolbar-horizontal {
  &.toolbar-tray-open {
    .js-messages__wrapper {
      top: 0 !important;
    }
  }
}


#drupal-off-canvas,
#layout-builder-modal {

  // Alignment.
  .field-text-alignment {
    .fieldset-wrapper > div > div {
      input {
        + label {
          font-size: 0;
          text-indent: -999em;

          .input-icon {
            margin-bottom: 0;

            &[class*="left"],
            &[class*="start"] {
              background-image: url('../../images/plugins/text-alignment/text-start.svg');
            }

            &[class*="center"] {
              background-image: url('../../images/plugins/text-alignment/text-center.svg');
            }

            &[class*="right"],
            &[class*="end"] {
              background-image: url('../../images/plugins/text-alignment/text-end.svg');
            }

            &[class*="justify"] {
              background-image: url('../../images/plugins/text-alignment/text-justify.svg');
            }
          }
        }
      }
    }
  }

  button,
  input[type="submit"] {
    width: auto !important;

    &.button--primary {
      text-align: center;
    }
  }

  a.button.dialog-cancel {
    margin: 1rem 0 0 0;
    padding: 11px 20px;
    width: auto !important;
    border-radius: 8px;
  }

  .fieldgroup {

    &.form-composite {
      &.form-wrapper {
        width: 100%;
      }
    }

    &.blb_container_type {
      .fieldset-wrapper {
        > div > div {
          .input-icon {
            &:after {
              cursor: pointer;
            }
          }
        }
      }
    }

    &.vlb_container_width {
      .fieldset-wrapper {
        > div {
          display: flex;
        }

        > div > div {
          position: relative;
          flex: 100%;
          width: 100%;
          margin: 0;
          padding: 0;

          input {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;

            + label {
              transition: all .3s ease-in-out;
              height: 70px;
              width: 100%;
              display: flex;
              flex-direction: column;
              background-color: #292C32;
              font-size: 10px;
              font-weight: normal;
              padding: 8px;
              margin: 2px;
              width: calc(100% - 4px);
              align-items: center;
              justify-content: center;
              text-align: center;
              cursor: pointer;
              border-radius: 0;

              &:hover {
                background-color: #4b515c;

                &:after {
                  border-color: #2F3138;
                }
              }
            }

            &:checked + label {
              background-color: #5C606B;
              font-weight: bold;
              color: #41A5FF;

              svg * {
                color: inherit;
              }

              &:after {
                border-color: #2F3138;
              }

              .input-icon:after {
                background-image: url("../../images/layout/container-active.svg");
              }
            }
          }

          .input-icon {
            width: 50px !important;
            height: 26px;
            margin-bottom: 10px;
            background: url("../../images/layout/stripe-sm.svg") center top repeat;

            &:after {
              content: '';
              display: block;
              margin: 0 auto 1rem auto;
              width: 100%;
              height: 100%;
              background-image: url("../../images/layout/container.svg");
              background-position: center center;
              background-repeat: no-repeat;
              background-color: #292C32;
              background-size: 100% 26px;
              cursor: pointer;
            }

            &._none:after {
              background-image: url("../../images/layout/none.svg");
              background-size: 50% 100%;
            }

            &.wide:after {
              width: 83.33333%;
            }

            &.medium:after {
              width: 66.66667%;
            }

            &.narrow:after {
              width: 50%;
            }

            &.tiny:after {
              width: 33.33333%;
            }

          }

        }
      }
    }
  }

  form.layout-builder-configure-block {
    [data-drupal-selector^="edit-appearance-alignment"] {
      display: none !important;
    }
  }

  ul li,
  ol li {
    border-bottom: 0;
  }

  .inline-block-create-button,
  .inline-block-list__item {
    width: auto;
  }

  .inline-block-list {

    li {
      padding: 0 0.5rem 2.5rem 0.5rem;

      width: 100%;

      @media (min-width: 576px) {
        width: 41%;
      }

      @media (min-width: 768px) {
        width: 42%;
      }

      @media (min-width: 992px) {
        width: 43%;
      }

      @media (min-width: 1200px) {
        width: 45%;
      }

      &:last-child { 
        padding-bottom: 1rem;
      }
    }

    .inline-block-list__item {
      width: 100%;
    }
  }

  .form-select,
  .form-text,
  input[type="text"],
  .form-tel,
  .form-email,
  .form-url,
  .form-search,
  .form-number,
  .form-color,
  .form-file,
  .form-textarea,
  input[type="textarea"],
  .form-date,
  .form-time {
    color: #222330 !important;
    background-color: #fff !important;
  }

  form.section-library-add-section-to-library {
    padding: 1rem 0;

    .form-type-textfield {
      input[type="text"] {
        width: 100% !important;
      }
    }
  }

  // To make varbase layout builder search blocks field take a full width.
  fieldset {
    &.form-type-search {
      width: 100% !important;
    }
  }

  .block-categories {
    .links li {
      padding: 0;
      margin: 0.3125rem 0;
    }
  }

  #bs_nav-tabs {
    position:relative !important;
  }

  .media-library-item__attributes,
  .media-library-item__attributes {
    background: transparent !important;
  }

  .media-library-item__remove,
  .media-library-item .button.media-library-item__remove {
    width: 1.5rem !important;
    height: 1.5rem !important;
  }

}

#layout-builder-modal {
  .form-item--editor-format {
    .form-element--editor-format {
      width: auto;
      border-radius: inherit;
      border: 2px solid #727579;
      background-color: #fff;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 9'%3E%3Cpath fill='none' stroke-width='1.5' d='M1 1L7 7L13 1' stroke='%23545560'/%3E%3C/svg%3E%0A");
      background-repeat: no-repeat;
      background-position: 100% 50%;
      min-height: 1.5rem;
      padding: calc(0.15rem - 1px) calc(0.5rem - 1px);
      padding-right: calc(1.5rem - 1px);
      -webkit-background-size: 1.75rem 0.4375rem;
      background-size: 1.75rem 0.4375rem;
      font-size: 0.889rem;
      line-height: 1.2rem;
      color:#222330;

      &:hover
      &:active,
      &:focus {
        background-color: #fff;
      }
    }
  }

  .bs_input-boxes--box-model .fieldset-wrapper > div > div input ~ label,
  .field-text-alignment .fieldset-wrapper > div > div input + label  {
    height: 60px;
  }

  .tabledrag-toggle-weight-wrapper {
   margin-top: 0;
  }

  .tabledrag-cell,
  .tabledrag-cell-content {
    max-width: 1rem;
    min-width: 1rem;
  }

  .draggable {
    a {
      &.tabledrag-handle {
        overflow: visible;
      }
    }
  }

  .tabledrag-handle {
    &::after {
      margin-left: 0;
    }
  }

  .ief-entity-table {
    td {
      border: 0;
    }
  }

  fieldset.fieldset {
    background-color: #383a40;

    .media-library-widget-empty-text,
    .fieldset__description,
    .form-item__description {
      color: #fff !important;
    }
  }

  .fieldset__label {
    color: #fff !important;
  }

}

body {
  #drupal-off-canvas-wrapper {
    z-index: 502;
    padding: 0;
    overflow: initial !important;

    #drupal-off-canvas {
      overflow: auto !important;
      padding-left: 1rem !important;
      padding-right: 1rem !important;

      .ui-widget-content.ui-dialog-content {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
        background: #9b9292 !important;
      }

      .inline-block-create-button:before {
        content: '';
        width: 2rem;
        height: 2rem;
        position: absolute;
        left: 1.5rem;
        top: 50%;
        display: block;
        margin-top: 0rem;
        background: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMzgzYTQwIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtOTUyLjM2MjE3KSI+PHBhdGggc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7b3BhY2l0eToxO2NvbG9yOiMwMDAwMDA7ZmlsbDojMzgzYTQwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDo0O21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6U2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOlNhbnMiIGQ9Ik0gNDkuNjg3NSA0IEEgMi4wMDAyIDIuMDAwMiAwIDAgMCA0OC45Njg3NSA0LjI4MTI1IEwgMTIuOTY4NzUgMjYuMzEyNSBBIDIuMDAwMiAyLjAwMDIgMCAwIDAgMTIgMjggTCAxMiA3MS45Njg3NSBBIDIuMDAwMiAyLjAwMDIgMCAwIDAgMTIuOTY4NzUgNzMuNjg3NSBMIDQ4Ljk2ODc1IDk1LjY4NzUgQSAyLjAwMDIgMi4wMDAyIDAgMCAwIDUxLjAzMTI1IDk1LjY4NzUgTCA4Ny4wMzEyNSA3My42ODc1IEEgMi4wMDAyIDIuMDAwMiAwIDAgMCA4OCA3MS45Njg3NSBMIDg4IDI4IEEgMi4wMDAyIDIuMDAwMiAwIDAgMCA4Ny4wMzEyNSAyNi4zMTI1IEwgNTEuMDMxMjUgNC4yODEyNSBBIDIuMDAwMiAyLjAwMDIgMCAwIDAgNDkuNjg3NSA0IHogTSA1MCA4LjMxMjUgTCA4Mi40Njg3NSAyOC4xODc1IEwgNTAgNDcuNjU2MjUgTCAxNy41MzEyNSAyOC4xODc1IEwgNTAgOC4zMTI1IHogTSAxNiAzMS45MDYyNSBMIDQ4IDUxLjA5Mzc1IEwgNDggOTAuNDM3NSBMIDE2IDcwLjg0Mzc1IEwgMTYgMzEuOTA2MjUgeiBNIDg0IDMxLjkwNjI1IEwgODQgNzAuODQzNzUgTCA1MiA5MC40Mzc1IEwgNTIgNTEuMDkzNzUgTCA4NCAzMS45MDYyNSB6IE0gNjguNzgxMjUgNTAuOTY4NzUgQSAyLjAwMDIgMi4wMDAyIDAgMCAwIDY3IDUzIEwgNjcgNTkuODEyNSBMIDYxIDYzLjI1IEEgMi4wMDIwMzQ4IDIuMDAyMDM0OCAwIDEgMCA2MyA2Ni43MTg3NSBMIDY3IDY0LjQzNzUgTCA2NyA2OSBBIDIuMDAwMiAyLjAwMDIgMCAxIDAgNzEgNjkgTCA3MSA2Mi4xNTYyNSBMIDc3IDU4LjcxODc1IEEgMi4wMDAyIDIuMDAwMiAwIDAgMCA3NS45MDYyNSA1NC45Njg3NSBBIDIuMDAwMiAyLjAwMDIgMCAwIDAgNzUgNTUuMjUgTCA3MSA1Ny41MzEyNSBMIDcxIDUzIEEgMi4wMDAyIDIuMDAwMiAwIDAgMCA2OC43ODEyNSA1MC45Njg3NSB6ICIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw5NTIuMzYyMTcpIj48L3BhdGg+PC9nPjwvc3ZnPg==) transparent;
        background-size: contain;
      }

      .form-item {
        border: 0;
      }

    }

    .ui-dialog-titlebar {
      margin: 0;
    }

    .details-wrapper {
      border: 0;

      ul {
        li.nav-item {
          width: 100%;
        }
      } 
    }

    form {
      padding-block: 0;
      padding-bottom: var(--off-canvas-padding);
    }

    #bs_nav-tabs {
      margin: 0;
      padding: 0;
      width: 100%;
      top: 0;
    }

    .blb_breakpoint_cols {
      label {
        display: flex !important;
      }
    }

    .layout-selection {
      margin: 0;
      padding: 0;
      list-style: none;

      li {
        position: relative;
        border-bottom: 1px solid var(--off-canvas-border-color);

        &:last-child {
          padding-bottom: 0;
          border-bottom: none;
        }
      }

      a {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 0.625rem;
        padding: 0.625rem;
        text-decoration: none;

        &:hover,
        &:focus,
        &:active {
          opacity: 0.7;
        }
      }
    }

    .layout-icon__region {
      fill: var(--off-canvas-text-color);
      stroke: transparent;
    }

    .inline-block-list {
      li {
        padding: 0 0.5rem 1rem 0.5rem;
        width: 50%;
        height: 50%;
        display: flow-root;
      }
    }
  }
}

.ui-dialog {
  .ui-dialog-titlebar-close {
    margin-top: 0.08rem !important;
    height: 2rem !important;
    width: 2rem !important;
    background: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODUuODEyIDg1LjgxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgODUuODEyIDg1LjgxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTcwLjY5LDE0LjEyMWMtMTUuNjIxLTE1LjYyLTQwLjk0NS0xNS42Mi01Ni41NjgsMGMtMTUuNjIxLDE1LjYyLTE1LjYyLDQwLjk0NiwwLDU2LjU2NyAgIGMxNS42MjQsMTUuNjIzLDQwLjk0OSwxNS42MjMsNTYuNTY5LDAuMDAyQzg2LjMxMiw1NS4wNzEsODYuMzEzLDI5Ljc0NCw3MC42OSwxNC4xMjF6IE01NC44NzEsNTkuMjlMNDIuNDA2LDQ2LjgyNUwyOS45NDIsNTkuMjkgICBjLTEuMjIzLDEuMjIzLTMuMjAyLDEuMjIyLTQuNDIyLDAuMDAyYy0xLjIyMy0xLjIyNC0xLjIyMS0zLjIsMC00LjQyMmwxMi40NjYtMTIuNDY2TDI1LjUyMiwyOS45NDEgICBjLTEuMjIzLTEuMjIzLTEuMjIzLTMuMjAxLDAtNC40MjFjMS4yMTktMS4yMjIsMy4xOTktMS4yMjMsNC40MiwwbDEyLjQ2NSwxMi40NjRMNTQuODcsMjUuNTJjMS4yMjItMS4yMjIsMy4xOTktMS4yMjIsNC40MiwwLjAwMSAgIGMxLjIyMSwxLjIxOSwxLjIyMiwzLjE5OCwwLjAwMSw0LjQxOUw0Ni44MjYsNDIuNDA0bDEyLjQ2NSwxMi40NjZjMS4yMjIsMS4yMjIsMS4yMjIsMy4yMDEsMCw0LjQyMlM1Ni4wOTMsNjAuNTEyLDU0Ljg3MSw1OS4yOXoiPjwvcGF0aD48L2c+PC9zdmc+) center center no-repeat;
    background-size: 2rem 2rem;
  }

  &:not(.ui-dialog-off-canvas) {
    z-index: 100;
  }

  &.ui-front.media-library-widget-modal {
    z-index: 1270;
  }
}

[dir="rtl"] .ui-dialog {
  .ui-resizable-w {
    left: auto !important;
    right: -20px !important;
  }
}
